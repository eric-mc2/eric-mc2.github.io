<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Eric Chandler | DNC Transit Effect? (Part 2)</title>
  <meta name="description" content="Presenting the regression results">
  
  
  
  <meta property="og:image" content="https://eric-mc2.github.io/img/headshot.png" />
  <meta property="og:title" content="Eric Chandler | DNC Transit Effect? (Part 2)" />   
  
  <meta property="og:description" content="Presenting the regression results" />
  <meta name="author" content="Eric Chandler">
  
    
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  
  
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,300;1,400;1,600;1,700;1,800&family=Saira+Extra+Condensed:wght@100;200;300;400;500;600;700;800;900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,300;1,400;1,600;1,700;1,800&family=Saira+Extra+Condensed:wght@100;200;300;400;500;600;700;800;900&display=swap"></noscript>
  <link rel="preload" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css"></noscript>
  
  
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/devicons/1.8.0/css/devicons.min.css" integrity="sha512-JW3fT0YTK7pT7w437SoX6GcW76jOZ6E0jGmrqBAcloC4GKT+njHOY4fX5KxJ9WfIXTkNrAF994525fAHp+KCxg==" crossorigin="anonymous" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/devicons/1.8.0/css/devicons.min.css" integrity="sha512-JW3fT0YTK7pT7w437SoX6GcW76jOZ6E0jGmrqBAcloC4GKT+njHOY4fX5KxJ9WfIXTkNrAF994525fAHp+KCxg==" crossorigin="anonymous"></noscript>
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" integrity="sha512-QKC1UZ/ZHNgFzVKSAhV5v5j73eeL9EEN289eKAEFaAjgAiobVAnVv/AGuPbXsKl1dNoel3kNr6PYnSiTzVVBCw==" crossorigin="anonymous" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" integrity="sha512-QKC1UZ/ZHNgFzVKSAhV5v5j73eeL9EEN289eKAEFaAjgAiobVAnVv/AGuPbXsKl1dNoel3kNr6PYnSiTzVVBCw==" crossorigin="anonymous"></noscript>
  
  
  <link rel="preload" href="https://eric-mc2.github.io/css/base.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://eric-mc2.github.io/css/base.css"></noscript>
  <link rel="preload" href="https://eric-mc2.github.io/css/nav.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://eric-mc2.github.io/css/nav.css"></noscript> 
  <link rel="preload" href="https://eric-mc2.github.io/css/content.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://eric-mc2.github.io/css/content.css"></noscript>
  <link rel="preload" href="https://eric-mc2.github.io/css/tables.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://eric-mc2.github.io/css/tables.css"></noscript>
  <link rel="preload" href="https://eric-mc2.github.io/css/tweaks.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://eric-mc2.github.io/css/tweaks.css"></noscript>


  <meta name="generator" content="Hugo 0.123.8">
  
    
    
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.11.1.min.js"></script>
    
    
    
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath: [['\\(', '\\)']]                  
    }
  };
</script>


    
  
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3XT6HHHNVY"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-3XT6HHHNVY', { 'anonymize_ip': false });
}
</script>

</head>
<body id="page-top">
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
  <a class="navbar-brand js-scroll-trigger" href="#page-top">
    <span class="d-block d-lg-none">Eric Chandler</span>
    <span class="d-none d-lg-block">
      <img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="/img/headshot.png" alt="">
    </span>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link js-scroll-trigger" href="/#about">About</a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link js-scroll-trigger" href="/#education">Education</a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link js-scroll-trigger" href="/#experience">Experience</a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link js-scroll-trigger" href="/#projects">Projects</a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link js-scroll-trigger" href="/#publications">Publications</a>
      </li>
      
      
    </ul>
  </div>
</nav>
  <div class="container-fluid p-0">
    
<nav aria-label="breadcrumb">
  <ol  class="breadcrumb">
    





<li class="breadcrumb-item">
  <a href="https://eric-mc2.github.io/">Eric Chandler</a>
</li>


<li class="breadcrumb-item">
  <a href="https://eric-mc2.github.io/projects/">Projects</a>
</li>


<li class="breadcrumb-item active">
  <a href="https://eric-mc2.github.io/projects/dnc-effect-results/">DNC Transit Effect? (Part 2)</a>
</li>

  </ol>
</nav>




<section class="project-section p-3 p-lg-5 d-flex d-column">
  <div class="my-auto">
    <h1 class="mb-0"><span class="text-primary">DNC Transit Effect? (Part 2)</span></h1>
    <p>Project link: <a href="https://github.com/eric-mc2/DNCTransit">https://github.com/eric-mc2/DNCTransit</a></p>
    <p>This research project asks:</p>
<blockquote>
<p><strong>Does the exogeneous shock of the 2024 Democratic National Convention in Chicago induce significant impacts on public transit usage?</strong></p>
</blockquote>
<p>In a <a href="../transit-panel/index.html">previous post</a>, I collected Chicago open transit data
and <a href="../dnc-effect/index.html">designed</a> a quasi-experiment to measure the causal
impact of the DNC on ridership.</p>
<h1 id="regression">Regression</h1>
<p>Now for the results &hellip;</p>
<h2 id="fixed-effects-model">Fixed Effects Model</h2>
<p>The fixed effects specification conveniently eliminates static sources of bias
without needing to explicitly measure each and every static variable
(in other words it controls for all time-invariant unobserved factors).
If we believe we have controlled for dynamic factors, such that all other time-varying factors are uncorrelated
with the treatment variable, then the FE model gives us an unbiased causal
estimate of the treatment effect.</p>
<p>The equation includes an indicator for &ldquo;during DNC&rdquo;, day-of-the-week dummies,
time trend, and unit fixed effects:</p>
$$ \log(\text{rides}_{it}) \sim \beta_0 + \beta_1\text{DNC}_t + \beta_2 \text{dotw}_t + \beta_3 t + \alpha_i $$
<p>The convenience of FE is also a downside: many helpful covariates, including
the treatment &ldquo;indicator&rdquo;, distance to DNC, do not vary with time. These factors
get subsumed in the unit fixed effect term \(\alpha_i\), meaning we can&rsquo;t estimate
them separately.
Without being able to isolate the <em>location</em> of the DNC, this model only
speaks to city-wide effects during the DNC.</p>
<p>With this major caveat in mind, let&rsquo;s run the model (separate models per transit mode<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>):</p>


<div id="static/uploads/fe.md" class="scientific-table">
    <table>
<thead>
<tr>
<th></th>
<th>FE (Uber)</th>
<th>FE (Train)</th>
<th>FE (Bike)</th>
</tr>
</thead>
<tbody>
<tr>
<td>During DNC</td>
<td>-0.0524***</td>
<td>-0.0814***</td>
<td>0.0297***</td>
</tr>
<tr>
<td></td>
<td>(0.0066)</td>
<td>(0.0148)</td>
<td>(0.0069)</td>
</tr>
<tr>
<td>time trend</td>
<td>0.0013***</td>
<td>0.0014***</td>
<td>-0.0000</td>
</tr>
<tr>
<td></td>
<td>(0.0001)</td>
<td>(0.0002)</td>
<td>(0.0001)</td>
</tr>
<tr>
<td>Tuesday</td>
<td>0.1059***</td>
<td>0.1098***</td>
<td>0.0274***</td>
</tr>
<tr>
<td></td>
<td>(0.0047)</td>
<td>(0.0105)</td>
<td>(0.0051)</td>
</tr>
<tr>
<td>Wednesday</td>
<td>0.2156***</td>
<td>0.1172***</td>
<td>0.1199***</td>
</tr>
<tr>
<td></td>
<td>(0.0047)</td>
<td>(0.0105)</td>
<td>(0.0051)</td>
</tr>
<tr>
<td>Thursday</td>
<td>0.3314***</td>
<td>0.0893***</td>
<td>0.0794***</td>
</tr>
<tr>
<td></td>
<td>(0.0047)</td>
<td>(0.0105)</td>
<td>(0.0051)</td>
</tr>
<tr>
<td>Friday</td>
<td>0.5977***</td>
<td>0.0530***</td>
<td>0.1148***</td>
</tr>
<tr>
<td></td>
<td>(0.0047)</td>
<td>(0.0106)</td>
<td>(0.0051)</td>
</tr>
<tr>
<td>R-squared</td>
<td>0.9505</td>
<td>0.9019</td>
<td>0.9470</td>
</tr>
<tr>
<td>R-squared Adj.</td>
<td>0.9497</td>
<td>0.9003</td>
<td>0.9458</td>
</tr>
<tr>
<td>N</td>
<td>64229.0</td>
<td>7910.0</td>
<td>49697.0</td>
</tr>
</tbody>
</table>

</div>
<p>The results show a -5.1%, -7.8%, and +3.0% percentage point change in uber, train, and bike ridership
during the DNC compared to other summer days. This supports the
hypothesis that the anticipated traffic suppressed city-wide mobility (except for
bikes which are less affected by traffic).</p>
<h2 id="difference-in-difference">Difference in Difference</h2>
<p>Like fixed effects, the difference in difference model removes bias of
time-invariant unobserved factors. Unlike fixed effects, we can include
time-invariant observed factors into the model. Additionally, diff-in-diff removes bias from
dynamic factors that follow common time-trends between treatment and control groups.</p>
<p>The difference in difference model isolates <em>both</em> the <em>area</em> and <em>time</em> of the DNC.
First it compares pre/post among the control group.</p>
$$\Delta \text{not nearby} = E(\text{rides} | \text{not nearby}, \text{during DNC}) 
    - E(\text{rides} | \text{not nearby}, \text{not during DNC})$$
<p>Then it compares pre/post among the treatment group.</p>
$$\Delta \text{nearby} = E(\text{rides} | \text{nearby}, \text{during DNC}) 
    - E(\text{rides} | \text{nearby}, \text{not during DNC})$$
<p>Finally it takes the difference of these comparisons: the change in treatment group
vs the change in control group.</p>
$$\text{DiD} = \Delta \text{nearby} - \Delta \text{not nearby} $$
<p>In the formal<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> model I include time trend, day-of-the-week dummies, distance to nearest transit, and
quadratic lat/long terms<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>.</p>
$$ \log{rides_{it}} \sim \beta_0 + \beta_1 \text{DNC}_t + \beta_2 \text{nearby}_i + 
    \beta_3 \text{DNC}_t \text{nearby}_i + 
    X_{it} + u_{it} $$


<div id="static/uploads/did.md" class="scientific-table">
    <table>
<thead>
<tr>
<th></th>
<th>DiD (Uber)</th>
<th>DiD (Train)</th>
<th>DiD (Bike)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Near DNC</td>
<td>0.7979***</td>
<td>-0.7937</td>
<td>0.4222***</td>
</tr>
<tr>
<td></td>
<td>(0.2357)</td>
<td>(0.5147)</td>
<td>(0.1244)</td>
</tr>
<tr>
<td>During DNC</td>
<td>-0.0666***</td>
<td>-0.1221***</td>
<td>-0.0335</td>
</tr>
<tr>
<td></td>
<td>(0.0143)</td>
<td>(0.0146)</td>
<td>(0.0240)</td>
</tr>
<tr>
<td>Near DNC:During DNC</td>
<td>0.1845**</td>
<td>0.8550</td>
<td>0.2998***</td>
</tr>
<tr>
<td></td>
<td>(0.0810)</td>
<td>(0.5248)</td>
<td>(0.0555)</td>
</tr>
<tr>
<td>log(dist to train)</td>
<td>-0.3231***</td>
<td></td>
<td>-0.1238***</td>
</tr>
<tr>
<td></td>
<td>(0.0563)</td>
<td></td>
<td>(0.0215)</td>
</tr>
<tr>
<td>log(dist to bike)</td>
<td>-0.2997***</td>
<td>0.2345</td>
<td></td>
</tr>
<tr>
<td></td>
<td>(0.0553)</td>
<td>(0.1478)</td>
<td></td>
</tr>
<tr>
<td>log(dist to bus)</td>
<td>-0.0108</td>
<td>-0.0730</td>
<td>0.0236</td>
</tr>
<tr>
<td></td>
<td>(0.0450)</td>
<td>(0.0667)</td>
<td>(0.0275)</td>
</tr>
<tr>
<td>R-squared</td>
<td>0.5109</td>
<td>0.2943</td>
<td>0.6597</td>
</tr>
<tr>
<td>R-squared Adj.</td>
<td>0.5108</td>
<td>0.2929</td>
<td>0.6596</td>
</tr>
<tr>
<td>N</td>
<td>64231.0</td>
<td>7910.0</td>
<td>49704.0</td>
</tr>
</tbody>
</table>

</div>
<p>These results show a baseline difference in transit usage between convention
and non-convention areas. In the control group we observe a (non-causal)
-6.4%, -11.5%, -3.3% (NS) percentage-point change in rideshare, train, and bike
rides, which agrees directionally with the fixed-effects model. The
causal effect of the DNC on rideshares, train, and bike rides
near the DNC is a +20.3%, +135.1%, and +35.0% percentage-point change.</p>
<h3 id="parallel-trends">Parallel Trends</h3>
<p>The diff-in-diff model operates on the &ldquo;parallel trends&rdquo; assumption: the
control group and (unobserved) counterfactual treatment group must have similar
slopes during the treatment period. In practice, since we cannot observe the counterfactual group,
we check whether the treatment and control groups have similar slopes prior to treatment.
And we ask &ldquo;do we believe this relationship would hold in the next period&rdquo;?</p>
<p>Plotting pre-treatment rides, the group trends are very consistent
in the long-term and even show similar patterns on a weekly scale.
We also don&rsquo;t see any anticipatory effects leading up to the DNC event.</p>
<p>
  <figure>
    
      <img src="/img/parallel_trends.jpeg" alt="Parallel trends assumption">
    
    <figcaption>Fig: Parallel trends assumption.</figcaption>
  </figure>
</p>
<h1 id="conclusion">Conclusion</h1>
<p>Areas near the DNC experience +20.3%, +135.1%, and +35.0% higher
ridership (for rideshares, train, and bikes) compared to non-convention areas
due to the DNC. This amounts to roughly<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup> 24k, 62k, and 3k extra rides.</p>
<p>We also observe that ridership in non-convention areas fell during the DNC by
-6.4%, -11.5%, and +3.3% compared to their pre-DNC baseline. A loss of
roughly 43k, 143k, and 3k rides. This loss cannot be interpreted as the causal
result of the DNC in particular.</p>
<p>Overall the evidence suggests that DNC attendees did in fact use and prefer public transit
during their stay in Chicago. However, the event itself (and anticipated traffic)
may have suppressed mobility by an even greater extent across Chicago.</p>
<p>Though we can easily measure what happened during the DNC, the counterfactual
without the DNC is unknowable. Counterfactuals are important in
policy because they provide a second-best outcome upon which to base our decision
(hosting the DNC vs not hosting). These quasi-experimental methods, Fixed Effects and
Difference-in-Difference regression, make a principled estimate of the counterfactual outcome,
providing a point of comparison for the effect of the DNC itself.</p>
<p>In the <a href="../dnc-attendance/index.html">next post</a>, I list the prevailing issues with my regression design and
propose an adjustment to compellingly overcome the worst issue.</p>
<h1 id="footnotes">Footnotes</h1>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>See <a href="../dnc-effect/index.html#footnotes">first</a> footnote.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Estimated with weighted least squares (weighted by number of observations per unit)
with clustered standard errors per unit.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Omitted for visual clarity.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>Estimated total impact calculated as:
</p>
$$\Delta \text{rides} = (e^\beta - 1) * E(\text{rides}_{it} | \text{Near DNC}_i * \text{Before DNC}_t) * \sum{\text{Near DNC}_i * \text{During DNC}_t}$$
&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
</ol>
</div>

    <ul class="tags">
    
      <li><a class="tag" href="/tags/data-science">data science</a></li>
    
      <li><a class="tag" href="/tags/econometrics">econometrics</a></li>
    
      <li><a class="tag" href="/tags/panel-data">panel data</a></li>
    
</ul>

  </div>
</section>

    <section><span style="color: #999999;">Nifty <a href="https://codepen.io/wbeeftink/pen/dIaDH">tech tag lists</a> fromÂ <a class="pen-owner-link" href="https://codepen.io/wbeeftink">Wouter Beeftink</a> </span>
      
    </section>
  </div>
  
  
<script src="https://code.jquery.com/jquery-3.6.4.slim.min.js" integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

<script src="https://unpkg.com/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js" integrity="sha384-EYn4rWu1DHvYD0sSSSbMEtXQmMl58CFJd897806+RT1jJVYbhuZlZMN6yG9nCyFa" crossorigin="anonymous"></script>
<script src="https://unpkg.com/smoothscroll-anchor-polyfill@1.3.2/dist/index.min.js" integrity="sha384-EY9NBEHCFbZANmPcTm7CgG8OhsFILy0VBLG85pF6OIpP42NVbZVNsFOc23PYTCkB" crossorigin="anonymous"></script>

<script async src="/js/resume.js"></script>
  
  
  
  
</body>
</html>